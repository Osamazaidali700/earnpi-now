<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>EarnPi Now</title>
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  <style>
    body { font-family: Arial; text-align: center; padding: 40px; }
    button { padding: 10px 20px; font-size: 16px; margin: 10px; }
  </style>
</head>
<body>
  <h1>EarnPi Now</h1>
  <button id="login-btn">Login with Pi</button>
  <button id="pay-btn">Pay 0.001 Pi</button>

  <script>
    // تهيئة Pi SDK مع Sandbox
    Pi.init({ version: "2.0", sandbox: true });

    // تسجيل الدخول
    document.getElementById("login-btn").addEventListener("click", () => {
      Pi.authenticate(['username'], (auth) => {
        alert("Welcome, " + auth.user.username + "!");
      }, (error) => {
        alert("Error: " + error);
      });
    });

    // الدفع
    document.getElementById("pay-btn").addEventListener("click", () => {
      Pi.createPayment({
        amount: 0.001,
        memo: "Test payment"
      }, {
        onReadyForServerApproval: (paymentId) => {
          console.log("Payment approved:", paymentId);
        },
        onReadyForServerCompletion: (paymentId, txid) => {
          alert("Payment done! TXID: " + txid);
        },
        onCancel: () => {
          alert("Payment cancelled");
        },
        onError: (error) => {
          alert("Error: " + error.message);
        }
      });
    });
  </script>
</body>
</html>
